<!DOCTYPE html>

<html lang='en'>
  <head>
        <meta http-equiv="Content-Type" content="text/html"; charset="UTF-8">
  
  <meta name="author" content="Cinghio Pinghio">
  <meta name="description" content="My personal web site">
  <meta name="generator" content="mynt v0.3.1">
  <meta name="viewport" content="initial-scale=1.0">
  
  <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml">
  
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/screen.css">
  <link rel="stylesheet" href="/assets/css/pygments.css" media="screen" title="screen">
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
<link rel="stylesheet" href="/assets/css/pygments.css" type="text/css">
      
      <title>Email &ndash; Cinghio Pinghio</title>
  </head>

  <body>
    <nav>
      
      <a href="/"><img src="/assets/images/cp_circ_empty.svg" alt="CinghioPinghio"
      width="60%"/></a>
      
      <ul>
        <li><a href="/log"> LOG <i class="fa fa-pencil     fa-lg"></i></a></li>
        <li><a href="/code">CODE <i class="fa fa-code-fork fa-lg"></i></a></li>
        <li><a href="/foto">FOTO <i class="fa fa-camera    fa-lg"></i></a></li>
      </ul>
      <p>
      	Cose abbastanza random, note, bozze, foto.
      	Usare con precauzione.
      </p>
    </nav>
       
    <div class='main'>
      
      

	  <h1 class='bottom-line'>Email</h1>
	  July 2015 <span>&raquo;</span> <a href="/archives/alot/">alot</a>, <a href="/archives/email/">email</a>, <a href="/archives/isync/">isync</a>, <a href="/archives/mbsync/">mbsync</a>, <a href="/archives/notmuch/">notmuch</a>, <a href="/archives/pass/">pass</a>

    

    <article>
    <p>With the occasion of changing machine (work location), I feel that&rsquo;s the
perfect moment to reorder my email fetching/reading/syncing process.</p>

<p>Everything is built around the <a href="http://notmuchmail.org/">notmuch</a> email
indexer (based on the <a href="http://xapian.org/">xapian</a> tagging systems)</p>
<h1>Workflow</h1>
<p>In this post I&rsquo;ll describe the workflow as I set it on my machines.
Every step will have it&rsquo;s own post in future (probably).</p>
<h2>Fetch emails</h2>
<p>First thing is to get your remote emails copied locally to a <code>maildir</code> folder.</p>

<p>I&rsquo;ve used <code>offlineimap</code> since some years now and I was a bit disappointed on how
slow it may be and how dirty the configuration file ends up.
I started looking around and found 
<a href="http://isync.sourceforge.net/">isync/mbsync</a>.
Now my configuration file is much cleaner and the fetching time decreased a
lot.</p>
<h2>Tag Emails</h2>
<p>This is of course the central part of the whole system.
The basic idea is to do what
Google does on your mails: scan them, index them <em>but</em> in a <em>local</em> database.</p>

<p>In this case the chosen app is <a href="http://notmuchmail.org">notmuch</a>.</p>
<h2>Sync Emails</h2>
<p>The problem here is that you probably have your mails synchronized on
several local machines and for the nature of local synchronization, you end up
with different databases on different machines.</p>

<p>Several solutions have been proposed to this (the more advanced of which is 
<code>muchsync</code>)</p>

<p>Discussion <a href="http://notmuch.198994.n3.nabble.com/Synchronization-success-stories-td4030763.html">here</a>.</p>

<p>For now I use <code>notmuch dump/restore</code> with some syncing method (git or
syncthing).</p>
<h2>E-Mail Address Book</h2>
<p>Lightning fast <a href="https://github.com/aperezdc/notmuch-addrlookup-c">notmuch-addrlookup</a>,
written in C.</p>
<h2>read/write</h2>
<p><a href="https://alot.readthedocs.org/en/latest/">alot</a></p>

    </article>


    </div>
  </body>
</html>